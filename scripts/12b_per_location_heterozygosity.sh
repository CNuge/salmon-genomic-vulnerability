#! /bin/bash/

file_path="/mnt/c/Users/camnu/bin/salmon-genomic-vulnerability/data/raw/HW_files/per_location/"

cd $file_path


for f in $(ls *_individual_list.tsv | sed 's/_individual_list.tsv//');
do
	echo "on location set: "$f;
    indfile=$f"_individual_list.tsv";
    subfile=$f"_220k_filtered_newgenome";
    hwefile=$f"220k_filtered_HW_out";
    #subset the location
    plink --bfile ../../LD_files/new_wildNA_220k_filtered --chr-set 30 no-xy --maf 0.01 --make-bed --keep $indfile --out $subfile
    #run the hwe
    plink --bfile $subfile --chr-set 30 no-xy --hardy --out $hwefile
done

