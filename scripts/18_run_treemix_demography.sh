#!/bin/bash
#SBATCH --time=0-06:00 # time (DD-HH:MM)
#SBATCH --job-name=treemix_v1
#SBATCH --output=treemix_v2.out
#SBATCH --cpus-per-task=2
#SBATCH --mem=20G


echo "loading necessary modules"
module load StdEnv/2020  
module load gcc/9.3.0   
module load treemix/1.13

cd /scratch/nugentc/bin/salmon-genomic-vulnerability/data/interim

#need the gzipped versions of the files
#echo "running treemix for the three lineages"
#treemix -i treemix_population_file_10k_sub.txt.gz -o treemix_threepop_out

echo "running treemix for the three lineages and two migration events"
#treemix -i treemix_population_file_10k_sub.txt.gz -m 2 -bootstrap -k 500 -o treemix_threepop_migration2_out

echo "running treemix for the filtered river data"
echo "no bootstrapping!"
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -o treemix_per_river_NB_m0_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -m 1 -o treemix_per_river_NB_m1_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -m 2 -o treemix_per_river_NB_m2_out
treemix -i treemix_river_file_10k_sub_filtered.txt.gz -m 3 -o treemix_per_river_NB_m3_out
treemix -i treemix_river_file_10k_sub_filtered.txt.gz -m 4 -o treemix_per_river_NB_m4_out



#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -o treemix_per_river_out

#echo "using 500 snp boorstrapping windows as well"
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -o treemix_per_river_m0_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -m 1 -o treemix_per_river_m1_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500  -m 2 -o treemix_per_river_m2_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -m 3 -o treemix_per_river_m3_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -m 4 -o treemix_per_river_m4_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -m 5 -o treemix_per_river_m5_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -m 6 -o treemix_per_river_m6_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -m 7 -o treemix_per_river_m7_out
#treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -m 8 -o treemix_per_river_m8_out

#files downloaded for re-run of the plotting
