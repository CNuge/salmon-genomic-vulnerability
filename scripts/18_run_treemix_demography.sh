#!/bin/bash
#SBATCH --time=0-06:00 # time (DD-HH:MM)
#SBATCH --job-name=treemix_v1
#SBATCH --output=treemix_v1.out
#SBATCH --cpus-per-task=32
#SBATCH --mem=125G


echo "loading necessary modules"
module load StdEnv/2020  
module load gcc/9.3.0   
module load treemix/1.13

cd /scratch/nugentc/bin/salmon-genomic-vulnerability/data/interim

#need the gzipped versions of the files
echo "running treemix for the three lineages"
treemix -i treemix_population_file_10k_sub.txt.gz -o treemix_threepop_out

echo "running treemix for the three lineages and two migration events"
treemix -i treemix_population_file_10k_sub.txt.gz -m 2 -bootstrap -k 500 -o treemix_threepop_migration2_out


echo "running treemix for the filtered river data"
echo "using 500 snp boorstrapping windows as well"
treemix -i treemix_river_file_10k_sub_filtered.txt.gz -bootstrap -k 500 -o treemix_per_river_out